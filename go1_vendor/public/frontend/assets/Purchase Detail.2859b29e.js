var A=(T,x,d)=>new Promise((g,_)=>{var f=n=>{try{i(d.next(n))}catch(m){_(m)}},v=n=>{try{i(d.throw(n))}catch(m){_(m)}},i=n=>n.done?g(n.value):Promise.resolve(n.value).then(f,v);i((d=d.apply(T,x)).next())});import{_ as E}from"./AppSidebar.e6135d3f.js";import{u as H,a1 as Q,n as o,r as $,c as F,B as G,F as I,e as z,o as c,f as u,p as t,g as w,q as h,w as S,N as e,y as q,M as J,v as U,X as W,S as B,T as C}from"./vendor.df9a4b93.js";import"./index.ba59bafc.js";const X={class:"flex h-screen w-screen"},K={class:"h-full border-r bg-gray-50"},Y={class:"flex-1 flex flex-col h-full overflow-auto"},Z={class:"mb-2 border-b p-1"},tt={key:0,class:"flex flex-1 items-center h-12"},st={class:"ml-3"},et={class:"main-content justify-items-center grid grid-cols-1 py-5"},lt={class:"grid grid-cols-1 content-start gap-3 m-2 w-8/12 bg-white border rounded-md pb-5"},ot={class:"px-3 py-3 border-b"},at={class:"flex justify-between items-center"},nt={class:"text-xl text-cyan-600 font-semibold"},dt={class:"grid grid-cols-1 p-3"},it={class:"grid grid-cols-2 md:grid-cols-3 gap-3 justify-items-stretch text-gray-800"},rt={class:"flex flex-col gap-1"},ct={class:"text-sm font-semibold py-2"},ut={class:"flex flex-col gap-1"},mt={class:"text-sm font-semibold py-2"},pt={class:"flex flex-col gap-1"},xt={class:"text-sm font-semibold py-2"},_t={class:"flex flex-col gap-1"},ft={class:"text-sm font-semibold py-2"},gt={class:"flex flex-col gap-1"},vt={class:"text-sm font-semibold py-2"},ht={class:"flex flex-col gap-1"},yt=["innerHTML"],bt={class:"grid grid-cols-1"},wt={class:"w-full"},Tt={class:"w-full text-xs text-left whitespace-nowrap"},jt={class:"px-3 py-2 w-1/2 text-md font-medium"},Vt={class:"px-3 py-2 text-center text-md font-medium"},kt={class:"px-3 py-2 text-center font-medium"},Dt={class:"px-3 py-2 text-right text-md font-medium"},Nt={class:"px-3 py-2 text-right text-md font-medium"},Rt={class:"grid grid-cols-1 p-3"},At={class:"grid grid-cols-1 gap-10 md:grid-cols-2"},St={class:"flex flex-col w-full gap-3"},qt={class:"flex justify-between items-center"},Bt={class:"text-sm font-medium"},Ct={class:"grid grid-cols-1"},Lt={key:0,class:"w-full mt-3"},Mt={class:"w-full text-xs text-left whitespace-nowrap"},Ot={class:"px-3 py-2 w-1/2 text-md font-medium"},Pt={class:"px-3 py-2 text-center text-md font-medium"},Et={class:"px-3 py-2 text-center text-md font-medium"},Ht={class:"px-3 py-2 text-right text-md font-medium"},Qt={class:"px-3 py-2 text-right text-md font-medium"},$t={class:"grid grid-cols-1 p-3"},Ft={class:"grid grid-cols-1 gap-10 md:grid-cols-2"},Gt={class:"flex flex-col w-full gap-3"},It={class:"flex justify-between items-center"},zt={class:"text-sm font-medium"},Jt={class:"flex justify-between items-center mt-3"},Ut={class:"text-sm font-medium"},Wt={class:"flex justify-between items-center"},Xt={class:"text-sm font-medium"},Kt={class:"flex justify-between items-center"},Yt={class:"text-sm font-medium w-3/5"},ls={__name:"Purchase Detail",setup(T){H();const x=Q();o(!1);const d=o(""),g=o(""),_=o(""),f=o(""),v=o([]),i=o([]),n=o(""),m=o(""),j=o(""),y=o(""),V=o(""),k=o(""),D=o(""),N=o(""),L=$({});let p=o({});const R=()=>{p.value=x.params,p=p.value},M=F({url:"go1_vendor.apidata.get_purchaseorder",params:{field_filters:JSON.stringify(L)},method:"GET"}),O=()=>A(this,null,function*(){try{const r=x.params.id,s=yield M.fetch(),l=s.find(a=>a.name===r);l&&(d.value=l.name,f.value=l.status,g.value=l.transaction_date,_.value=l.transaction_date,v.value=l.items||[],i.value=l.taxes||[],y.value=l.total,V.value=l.grand_total,D.value=l.in_words,k.value=l.rounded_total,N.value=l.total_taxes_and_charges,n.value=l.supplier,m.value=l.supplier_address,j.value=l.address_display,console.log("hit",s))}catch(r){console.error("Error fetching order details:",r)}});G(()=>{O(),R()});const P=r=>({Paid:"green",Completed:"blue",Draft:"red",Closed:"orange"})[r]||"gray";return I(()=>x.fullPath,()=>{R()}),(r,s)=>{const l=z("router-link");return c(),u("div",X,[t("div",K,[w(E)]),t("div",Y,[t("div",Z,[h(p)&&Object.keys(h(p)).length>0?(c(),u("div",tt,[w(l,{to:"/purchase-order"},{default:S(()=>[t("span",st,"Purchase Orders / "+e(h(p).id),1)]),_:1})])):q("",!0)]),J(r.$slots,"default"),t("div",et,[t("div",lt,[t("div",ot,[t("div",at,[t("span",nt,e(d.value),1),w(h(W),{variant:"subtle",theme:P(f.value),size:"md",label:"Badge"},{default:S(()=>[U(e(f.value),1)]),_:1},8,["theme"])])]),t("div",dt,[s[6]||(s[6]=t("div",{class:"mb-5 text-lg font-medium"},[t("h1",null," Details: ")],-1)),t("div",it,[t("div",rt,[s[0]||(s[0]=t("span",{class:"text-gray-600 text-sm"},"Name",-1)),t("span",ct,e(d.value),1)]),t("div",ut,[s[1]||(s[1]=t("span",{class:"text-gray-600 text-sm"},"Date Value",-1)),t("span",mt,e(g.value),1)]),t("div",pt,[s[2]||(s[2]=t("span",{class:"text-gray-600 text-sm"},"Required Date",-1)),t("span",xt,e(_.value),1)]),t("div",_t,[s[3]||(s[3]=t("span",{class:"text-gray-600 text-sm"},"Total Value",-1)),t("span",ft,e(y.value),1)]),t("div",gt,[s[4]||(s[4]=t("span",{class:"text-gray-600 text-sm"},"Supplier",-1)),t("span",vt,e(n.value),1)]),t("div",ht,[s[5]||(s[5]=t("span",{class:"text-gray-600 text-sm"},"Address",-1)),t("span",{class:"text-sm font-semibold py-2",innerHTML:m.value+",<br>"+j.value},null,8,yt)])])]),t("div",bt,[t("div",wt,[t("table",Tt,[s[7]||(s[7]=t("colgroup",null,[t("col"),t("col"),t("col"),t("col"),t("col")],-1)),s[8]||(s[8]=t("thead",null,[t("tr",{class:"bg-gray-100"},[t("th",{class:"p-3 w-1/2 text-md font-normal"},"Item code"),t("th",{class:"p-3 text-md font-normal text-center"},"Quantity"),t("th",{class:"p-3 text-md font-normal text-center"},"UOM"),t("th",{class:"p-3 text-md font-normal text-center"},"Rate"),t("th",{class:"p-3 text-md font-normal text-right"},"Amount")])],-1)),t("tbody",null,[(c(!0),u(B,null,C(v.value,(a,b)=>(c(),u("tr",{key:b,class:"border-b border-gray-200"},[t("td",jt,[t("p",null,e(a.item_code),1)]),t("td",Vt,[t("p",null,e(a.qty),1)]),t("td",kt,[t("span",null,e(a.uom),1)]),t("td",Dt,[t("p",null,e(a.rate),1)]),t("td",Nt,[t("p",null,e(a.amount),1)])]))),128))])])])]),t("div",Rt,[t("div",At,[s[10]||(s[10]=t("div",null,null,-1)),t("div",St,[t("div",qt,[s[9]||(s[9]=t("span",{class:"text-gray-600 text-sm font-medium"},"Total",-1)),t("span",Bt,e(y.value),1)])])])]),t("div",Ct,[i.value[0]?(c(),u("div",Lt,[t("table",Mt,[s[11]||(s[11]=t("colgroup",null,[t("col"),t("col"),t("col"),t("col"),t("col")],-1)),s[12]||(s[12]=t("thead",null,[t("tr",{class:"bg-gray-100"},[t("th",{class:"p-3 w-1/2 text-md font-normal"},"Type"),t("th",{class:"p-3 text-md font-normal text-center"},"Account Head"),t("th",{class:"p-3 text-md font-normal text-center"},"Tax Rate"),t("th",{class:"p-3 text-md font-normal text-center"},"Amount"),t("th",{class:"p-3 text-md font-normal text-right"},"Total")])],-1)),t("tbody",null,[(c(!0),u(B,null,C(i.value,(a,b)=>(c(),u("tr",{key:b,class:"border-b border-gray-200"},[t("td",Ot,[t("p",null,e(a.charge_type),1)]),t("td",Pt,[t("p",null,e(a.account_head),1)]),t("td",Et,[t("span",null,e(a.rate),1)]),t("td",Ht,[t("p",null,e(a.tax_amount),1)]),t("td",Qt,[t("p",null,e(a.total),1)])]))),128))])])])):q("",!0)]),t("div",$t,[t("div",Ft,[s[18]||(s[18]=t("div",null,null,-1)),t("div",Gt,[t("div",It,[s[13]||(s[13]=t("span",{class:"text-gray-600 text-sm font-medium"},"Tax Amount",-1)),t("span",zt,e(N.value),1)]),s[17]||(s[17]=t("hr",null,null,-1)),t("div",Jt,[s[14]||(s[14]=t("span",{class:"text-gray-600 text-sm font-medium"},"Grand Total",-1)),t("span",Ut,e(V.value),1)]),t("div",Wt,[s[15]||(s[15]=t("span",{class:"text-gray-600 text-sm font-medium"},"Rounded Total",-1)),t("span",Xt,e(k.value),1)]),t("div",Kt,[s[16]||(s[16]=t("span",{class:"text-gray-600 text-sm font-medium"},"In Words",-1)),t("span",Yt,e(D.value),1)])])])])])])])])}}};export{ls as default};
