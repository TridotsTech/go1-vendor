var C=(T,_,i)=>new Promise((g,r)=>{var v=n=>{try{u(i.next(n))}catch(p){r(p)}},f=n=>{try{u(i.throw(n))}catch(p){r(p)}},u=n=>n.done?g(n.value):Promise.resolve(n.value).then(v,f);u((i=i.apply(T,_)).next())});import{_ as O}from"./AppSidebar.e6135d3f.js";import{a1 as N,n as l,r as $,c as F,B as G,F as I,e as z,o as c,f as m,p as t,g as w,q as h,w as q,N as e,y as B,M as J,v as P,X as U,S as M,T as R}from"./vendor.df9a4b93.js";import"./index.ba59bafc.js";const W={class:"flex h-screen w-screen"},X={class:"h-full border-r bg-gray-50"},K={class:"flex-1 flex flex-col h-full overflow-auto"},Y={class:"mb-2 border-b p-1"},Z={key:0,class:"flex flex-1 items-center h-12"},tt={class:"ml-3"},st={class:"main-content justify-items-center grid grid-cols-1 py-10 overflow-auto"},et={class:"grid grid-cols-1 content-start gap-3 m-2 w-8/12 bg-white border rounded-md pb-5"},ot={class:"px-3 py-3 border-b"},lt={class:"flex justify-between items-center"},at={class:"text-xl text-cyan-600 font-semibold"},nt={class:"grid grid-cols-1 p-3"},dt={class:"grid grid-cols-2 md:grid-cols-3 gap-3 justify-items-stretch text-gray-800"},it={class:"flex flex-col gap-1"},rt={class:"text-sm font-semibold py-2"},ct={class:"flex flex-col gap-1"},mt={class:"text-sm font-semibold py-2"},ut={class:"flex flex-col gap-1"},pt={class:"text-sm font-semibold py-2"},xt={class:"flex flex-col gap-1"},ft={class:"text-sm font-semibold py-2"},_t={class:"flex flex-col gap-1"},gt={class:"text-sm font-semibold py-2"},vt={class:"flex flex-col gap-1"},ht={class:"text-sm font-semibold py-2"},yt={class:"flex flex-col gap-1"},bt=["innerHTML"],wt={class:"grid grid-cols-1"},Tt={class:"w-full"},jt={class:"w-full text-xs text-left whitespace-nowrap"},St={class:"px-3 py-2 w-1/2 text-md font-medium"},kt={class:"px-3 py-2 text-center text-md font-medium"},Dt={class:"px-3 py-2 text-md text-center font-medium"},Vt={class:"px-3 py-2 text-right text-md font-medium"},At={class:"px-3 py-2 text-right text-md font-medium"},Ct={class:"grid grid-cols-1 p-3"},Nt={class:"grid grid-cols-1 gap-10 md:grid-cols-2"},qt={class:"flex flex-col w-full gap-3"},Bt={class:"flex justify-between items-center"},Mt={class:"text-sm font-medium"},Rt={class:"grid grid-cols-1"},Qt={key:0,class:"w-full mt-3"},Et={class:"w-full text-xs text-left whitespace-nowrap"},Ht={class:"px-3 py-2 w-1/2 text-md font-medium"},Lt={class:"px-3 py-2 text-center text-md font-medium"},Ot={class:"px-3 py-2 text-md text-center font-medium"},$t={class:"px-3 py-2 text-center text-md font-medium"},Ft={class:"px-3 py-2 text-right text-md font-medium"},Gt={class:"grid grid-cols-1 p-3"},It={class:"grid grid-cols-1 gap-10 md:grid-cols-2"},zt={class:"flex flex-col w-full gap-3"},Jt={class:"flex justify-between items-center"},Pt={class:"text-sm font-medium"},Ut={class:"flex justify-between items-center mt-3"},Wt={class:"text-sm font-medium"},Xt={class:"flex justify-between items-center"},Kt={class:"text-sm font-medium"},Yt={class:"flex justify-between items-center"},Zt={class:"text-sm font-medium w-3/5 text-right"},ls={__name:"Supplier Detail",setup(T){const _=N(),i=l(""),g=l(""),r=l(""),v=l([]),f=l([]),u=l(""),n=l(""),p=l(""),j=l(""),y=l(""),S=l(""),k=l(""),D=l(""),V=l(""),Q=$({});let x=l({});const A=()=>{x.value=_.params,x=x.value},E=F({url:"go1_vendor.apidata.get_supplierquotation",params:{field_filters:JSON.stringify(Q)},method:"GET"}),H=()=>C(this,null,function*(){try{const d=N().params.id,o=(yield E.fetch()).find(a=>a.name===d);o&&(i.value=o.name,r.value=o.status,g.value=o.transaction_date,u.value=o.supplier,n.value=o.valid_till,p.value=o.supplier_address,j.value=o.address_display,y.value=o.total,S.value=o.grand_total,D.value=o.in_words,k.value=o.rounded_total,V.value=o.total_taxes_and_charges,v.value=o.items||[],f.value=o.taxes||[],console.log("hit",o))}catch(d){console.error("Error fetching order details:",d)}});G(()=>{H(),A()});const L=d=>d==="Cancelled"?"green":d==="Completed"?"blue":d==="Draft"?"red":d==="Closed"?"orange":"gray";return I(()=>_.fullPath,()=>{A()}),(d,s)=>{const o=z("router-link");return c(),m("div",W,[t("div",X,[w(O)]),t("div",K,[t("div",Y,[h(x)&&Object.keys(h(x)).length>0?(c(),m("div",Z,[w(o,{to:"/supplier-quotation"},{default:q(()=>[t("span",tt,"Supplier Quotations / "+e(h(x).id),1)]),_:1})])):B("",!0)]),J(d.$slots,"default"),t("div",st,[t("div",et,[t("div",ot,[t("div",lt,[t("span",at,e(i.value),1),w(h(U),{variant:"subtle",theme:L(r.value),size:"md",label:"Badge"},{default:q(()=>[P(e(r.value),1)]),_:1},8,["theme"])])]),t("div",nt,[s[7]||(s[7]=t("div",{class:"mb-5 text-lg font-medium"},[t("h1",null," Details: ")],-1)),t("div",dt,[t("div",it,[s[0]||(s[0]=t("span",{class:"text-gray-600 text-sm"},"Date Value",-1)),t("span",rt,e(g.value),1)]),t("div",ct,[s[1]||(s[1]=t("span",{class:"text-gray-600 text-sm"},"Status",-1)),t("span",mt,e(r.value),1)]),t("div",ut,[s[2]||(s[2]=t("span",{class:"text-gray-600 text-sm"},"Total Value",-1)),t("span",pt,e(y.value),1)]),t("div",xt,[s[3]||(s[3]=t("span",{class:"text-gray-600 text-sm"},"Supplier",-1)),t("span",ft,e(u.value),1)]),t("div",_t,[s[4]||(s[4]=t("span",{class:"text-gray-600 text-sm"},"Due Date Value",-1)),t("span",gt,e(n.value),1)]),t("div",vt,[s[5]||(s[5]=t("span",{class:"text-gray-600 text-sm"},"Supplier Address",-1)),t("span",ht,e(p.value),1)]),t("div",yt,[s[6]||(s[6]=t("span",{class:"text-gray-600 text-sm"},"Address",-1)),t("span",{class:"text-sm font-semibold py-2",innerHTML:j.value},null,8,bt)])])]),t("div",wt,[t("div",Tt,[t("table",jt,[s[8]||(s[8]=t("colgroup",null,[t("col"),t("col"),t("col"),t("col"),t("col")],-1)),s[9]||(s[9]=t("thead",null,[t("tr",{class:"bg-gray-100"},[t("th",{class:"p-3 w-1/2 text-md font-normal"},"Item code"),t("th",{class:"p-3 text-md text-center font-normal"},"Quantity"),t("th",{class:"p-3 text-md text-center font-normal"},"UOM"),t("th",{class:"p-3 text-md font-normal text-center"},"Rate"),t("th",{class:"p-3 text-md font-normal text-right"},"Amount")])],-1)),t("tbody",null,[(c(!0),m(M,null,R(v.value,(a,b)=>(c(),m("tr",{key:b,class:"border-b border-gray-200"},[t("td",St,e(a.item_code),1),t("td",kt,e(a.qty),1),t("td",Dt,e(a.uom),1),t("td",Vt,e(a.rate),1),t("td",At,e(a.amount),1)]))),128))])])])]),t("div",Ct,[t("div",Nt,[s[11]||(s[11]=t("div",null,null,-1)),t("div",qt,[t("div",Bt,[s[10]||(s[10]=t("span",{class:"text-gray-600 text-sm font-medium"},"Total",-1)),t("span",Mt,e(y.value),1)])])])]),t("div",Rt,[f.value[0]?(c(),m("div",Qt,[t("table",Et,[s[12]||(s[12]=t("colgroup",null,[t("col"),t("col"),t("col"),t("col"),t("col")],-1)),s[13]||(s[13]=t("thead",null,[t("tr",{class:"bg-gray-100"},[t("th",{class:"p-3 w-1/2 text-md font-normal"},"Type"),t("th",{class:"p-3 text-md text-center font-normal"},"Account Head"),t("th",{class:"p-3 text-md text-center font-normal"},"Tax Rate"),t("th",{class:"p-3 text-md text-center font-normal"},"Amount"),t("th",{class:"p-3 text-md font-normal text-right"},"Total")])],-1)),t("tbody",null,[(c(!0),m(M,null,R(f.value,(a,b)=>(c(),m("tr",{key:b,class:"border-b border-gray-200"},[t("td",Ht,e(a.charge_type),1),t("td",Lt,e(a.account_head),1),t("td",Ot,e(a.rate),1),t("td",$t,e(a.tax_amount),1),t("td",Ft,e(a.total),1)]))),128))])])])):B("",!0)]),t("div",Gt,[t("div",It,[s[19]||(s[19]=t("div",null,null,-1)),t("div",zt,[t("div",Jt,[s[14]||(s[14]=t("span",{class:"text-gray-600 text-sm font-medium"},"Tax Amount",-1)),t("span",Pt,e(V.value),1)]),s[18]||(s[18]=t("hr",null,null,-1)),t("div",Ut,[s[15]||(s[15]=t("span",{class:"text-gray-600 text-sm font-medium"},"Grand Total",-1)),t("span",Wt,e(S.value),1)]),t("div",Xt,[s[16]||(s[16]=t("span",{class:"text-gray-600 text-sm font-medium"},"Rounded Total",-1)),t("span",Kt,e(k.value),1)]),t("div",Yt,[s[17]||(s[17]=t("span",{class:"text-gray-600 text-sm font-medium"},"In Words",-1)),t("span",Zt,e(D.value),1)])])])])])])])])}}};export{ls as default};
