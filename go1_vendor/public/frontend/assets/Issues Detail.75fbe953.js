var N=($,S,y)=>new Promise((w,f)=>{var x=r=>{try{g(y.next(r))}catch(v){f(v)}},c=r=>{try{g(y.throw(r))}catch(v){f(v)}},g=r=>r.done?w(r.value):Promise.resolve(r.value).then(x,c);g((y=y.apply($,S)).next())});import{_ as Q,a as q}from"./AppHeader.5d85f85a.js";import{u as F,V as G,y as n,r as H,c as K,A as M,o as t,f as d,n as s,g as C,K as W,L as u,N as i,p as a,j as T,T as R,W as m}from"./vendor.c4b27f65.js";import"./index.294163e1.js";const X={class:"flex h-screen w-screen"},Y={class:"h-full border-r bg-gray-50"},Z={class:"flex-1 flex flex-col h-full overflow-auto"},h={class:"main-content justify-items-center grid grid-cols-1 py-10 h-[550px]"},ee={class:"grid grid-cols-1 content-start gap-3 m-2 w-8/12 bg-white border rounded-md pb-5"},se={class:"px-3 py-3 border-b"},le={class:"flex justify-between items-center"},te={class:"text-xl text-cyan-600 font-semibold"},oe={class:"float-right mb-1"},ae={class:"grid grid-cols-1 p-3"},ne={class:"grid grid-cols-2 md:grid-cols-3 gap-3 justify-items-stretch text-gray-800"},de={class:"flex flex-col gap-1"},ue={key:1,class:"text-sm font-semibold"},ie={class:"flex flex-col gap-1"},me={key:1,class:"text-sm font-semibold"},re={class:"flex flex-col gap-1"},pe={key:1,class:"text-sm font-semibold"},ve={class:"flex flex-col gap-1"},fe={key:1,class:"text-sm font-semibold"},xe={class:"flex flex-col gap-1"},ce={key:1,class:"text-sm font-semibold"},ye={class:"flex flex-col gap-1"},ge={key:1,class:"text-sm font-semibold"},be={class:"flex flex-col gap-1"},Ve={key:1,class:"text-sm font-semibold"},_e={class:"flex flex-col gap-1"},ke={key:1,class:"text-sm font-semibold"},je={class:"flex flex-col gap-1"},Ue={key:1,class:"text-sm font-semibold"},Ee={class:"flex flex-col gap-1"},De={key:1,class:"text-sm font-semibold"},we={class:"flex flex-col gap-1"},Ce={key:1,class:"text-sm font-semibold"},Se={class:"flex flex-col gap-1"},Ie={key:1,class:"text-sm font-semibold"},Ne={class:"flex flex-col gap-1"},Te={key:1,class:"text-sm font-semibold"},$e={class:"flex flex-col gap-1"},Oe={key:1,class:"text-sm font-semibold"},Re={class:"flex flex-col gap-1"},Be={key:1,class:"text-sm font-semibold"},ze={key:0,class:"float-right flex gap-4"},Qe={__name:"Issues Detail",setup($){const S=F(),y=G(),w=n(""),f=n(""),x=n(""),c=n(""),g=n(""),r=n(""),v=n(""),b=n(""),V=n(""),_=n(""),k=n(""),j=n(""),U=n(""),I=n(!1),E=n(""),D=n(""),o=n(!1),B=H({}),z=K({url:"go1_vendor.apidata.get_issues",params:{field_filters:JSON.stringify(B)},method:"GET"}),O=()=>N(this,null,function*(){try{const p=y.params.id,l=(yield z.fetch()).find(J=>J.name===p);l&&(w.value=l.name,f.value=l.subject,x.value=l.status,c.value=l.priority,g.value=l.address_line2,r.value=l.description,v.value=l.issue_type,b.value=l.first_responded_on,V.value=l.resolution_details,_.value=l.opening_date,k.value=l.opening_time,j.value=l.lead,U.value=l.project,E.value=l.company,D.value=l.email_account)}catch(p){console.error("Error fetching order details:",p)}}),A=()=>{o.value=!0},L=()=>{o.value=!1,O()},P=()=>N(this,null,function*(){const p=y.params.id;if(!p)return;const e={subject:f.value,status:x.value,priority:c.value,description:r.value,issue_type:v.value,first_responded_on:b.value,resolution_details:V.value,opening_date:_.value,opening_time:k.value,lead:j.value,project:U.value,company:E.value,email_account:D.value};try{if(!(yield fetch(`/api/resource/Issue/${p}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Error updating Issue");w.value=e.subject,f.value=e.subject,x.value=e.status,c.value=e.priority,g.value=e.address_line2,r.value=e.description,v.value=e.issue_type,b.value=e.first_responded_on,V.value=e.resolution_details,_.value=e.opening_date,k.value=e.opening_time,j.value=e.lead,U.value=e.project,E.value=e.company,D.value=e.email_account,o.value=!1,S.push({name:"IssuesList"})}catch(l){console.error("Error updating issue:",l)}});return M(()=>{O()}),(p,e)=>(t(),d("div",X,[s("div",Y,[C(Q)]),s("div",Z,[C(q),W(p.$slots,"default"),s("div",h,[s("div",ee,[s("div",se,[s("div",le,[s("span",te,u(w.value),1),s("div",oe,[o.value?R("",!0):(t(),i(a(T),{key:0,variant:"solid",theme:"gray",size:"md",label:"Edit",disabled:!1,onClick:A}))])])]),s("div",ae,[e[38]||(e[38]=s("div",{class:"mb-5 text-lg font-medium"},[s("h1",null,"Details:")],-1)),s("div",ne,[s("div",de,[e[15]||(e[15]=s("span",{class:"text-gray-600 text-sm"},"Subject",-1)),o.value?(t(),i(a(m),{key:0,modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=l=>f.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",ue,u(f.value),1)),e[16]||(e[16]=s("br",null,null,-1))]),s("div",ie,[e[17]||(e[17]=s("span",{class:"text-gray-600 text-sm"},"Status",-1)),o.value?(t(),i(a(m),{key:0,modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=l=>x.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",me,u(x.value),1)),e[18]||(e[18]=s("br",null,null,-1))]),s("div",re,[e[19]||(e[19]=s("span",{class:"text-gray-600 text-sm"},"Supplier",-1)),o.value?(t(),i(a(m),{key:0,modelValue:p.address3,"onUpdate:modelValue":e[2]||(e[2]=l=>p.address3=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",pe,u(p.address3),1))]),s("div",ve,[e[20]||(e[20]=s("span",{class:"text-gray-600 text-sm"},"Priority",-1)),o.value?(t(),i(a(m),{key:0,modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=l=>c.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",fe,u(c.value),1)),e[21]||(e[21]=s("br",null,null,-1))]),s("div",xe,[e[22]||(e[22]=s("span",{class:"text-gray-600 text-sm"},"Description",-1)),o.value?(t(),i(a(m),{key:0,modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=l=>r.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",ce,u(r.value),1)),e[23]||(e[23]=s("br",null,null,-1))]),s("div",ye,[e[24]||(e[24]=s("span",{class:"text-gray-600 text-sm"},"Issue Type",-1)),o.value?(t(),i(a(m),{key:0,modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=l=>v.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",ge,u(v.value),1))]),s("div",be,[e[25]||(e[25]=s("span",{class:"text-gray-600 text-sm"},"First Responded On",-1)),o.value?(t(),i(a(m),{key:0,modelValue:b.value,"onUpdate:modelValue":e[6]||(e[6]=l=>b.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",Ve,u(b.value),1)),e[26]||(e[26]=s("br",null,null,-1))]),s("div",_e,[e[27]||(e[27]=s("span",{class:"text-gray-600 text-sm"},"Resolution Details",-1)),o.value?(t(),i(a(m),{key:0,modelValue:V.value,"onUpdate:modelValue":e[7]||(e[7]=l=>V.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",ke,u(V.value),1)),e[28]||(e[28]=s("br",null,null,-1))]),s("div",je,[e[29]||(e[29]=s("span",{class:"text-gray-600 text-sm"},"Opening Date",-1)),o.value?(t(),i(a(m),{key:0,modelValue:_.value,"onUpdate:modelValue":e[8]||(e[8]=l=>_.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",Ue,u(_.value),1))]),s("div",Ee,[e[30]||(e[30]=s("span",{class:"text-gray-600 text-sm"},"Opening Time",-1)),o.value?(t(),i(a(m),{key:0,modelValue:k.value,"onUpdate:modelValue":e[9]||(e[9]=l=>k.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",De,u(k.value),1)),e[31]||(e[31]=s("br",null,null,-1))]),s("div",we,[e[32]||(e[32]=s("span",{class:"text-gray-600 text-sm"},"Lead",-1)),o.value?(t(),i(a(m),{key:0,modelValue:j.value,"onUpdate:modelValue":e[10]||(e[10]=l=>j.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",Ce,u(j.value),1)),e[33]||(e[33]=s("br",null,null,-1))]),s("div",Se,[e[34]||(e[34]=s("span",{class:"text-gray-600 text-sm"},"Project",-1)),o.value?(t(),i(a(m),{key:0,modelValue:U.value,"onUpdate:modelValue":e[11]||(e[11]=l=>U.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",Ie,u(U.value),1))]),s("div",Ne,[e[35]||(e[35]=s("span",{class:"text-gray-600 text-sm"},"Contact",-1)),o.value?(t(),i(a(m),{key:0,modelValue:I.value,"onUpdate:modelValue":e[12]||(e[12]=l=>I.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",Te,u(I.value),1))]),s("div",$e,[e[36]||(e[36]=s("span",{class:"text-gray-600 text-sm"},"Company",-1)),o.value?(t(),i(a(m),{key:0,modelValue:E.value,"onUpdate:modelValue":e[13]||(e[13]=l=>E.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",Oe,u(E.value),1))]),s("div",Re,[e[37]||(e[37]=s("span",{class:"text-gray-600 text-sm"},"Email Account",-1)),o.value?(t(),i(a(m),{key:0,modelValue:D.value,"onUpdate:modelValue":e[14]||(e[14]=l=>D.value=l),class:"text-sm font-semibold rounded-md p-1"},null,8,["modelValue"])):(t(),d("span",Be,u(D.value),1))]),s("div",null,[o.value?(t(),d("div",ze,[C(a(T),{variant:"subtle",theme:"gray",size:"md",label:"Discard",disabled:!1,onClick:L}),C(a(T),{variant:"solid",theme:"gray",size:"md",label:"Submit",disabled:!1,onClick:P})])):R("",!0)])])])])])])]))}};export{Qe as default};
