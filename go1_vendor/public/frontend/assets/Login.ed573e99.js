var f=(y,g,a)=>new Promise((r,l)=>{var i=s=>{try{d(a.next(s))}catch(o){l(o)}},m=s=>{try{d(a.throw(s))}catch(o){l(o)}},d=s=>s.done?r(s.value):Promise.resolve(s.value).then(i,m);d((a=a.apply(y,g)).next())});import{m as k,u as j,n as c,e as E,o as w,f as N,g as n,w as v,p as u,q as t,t as L,I as _,k as R,j as b,v as h,x as q,E as B,y as P,z as V,c as S}from"./vendor.df9a4b93.js";import{s as x}from"./index.ba59bafc.js";const z={class:"max-h-screen flex items-center justify-center"},I={class:"flex justify-center p-5 mt-0"},M={class:"relative"},U={class:"flex justify-center items-center mt-4"},T=k({__name:"Login",setup(y){const g=j(),a=c(""),r=c(!1),l=c(""),i=c(""),m=()=>f(this,null,function*(){try{console.log("Navigating to Signup page"),yield g.push({name:"Register"})}catch(o){console.error("Navigation error:",o)}}),d=()=>f(this,null,function*(){x.login.Loading=!0,i.value="";try{console.log("Login attempt with email:",a.value);const e=yield S({url:"go1_vendor.apidata.check_supplier",method:"GET",params:{email:a.value}}).fetch();console.log("data",e),e?(console.log("success",a,l),yield x.login.submit({email:a.value,password:l.value})):(console.log("fail"),yield m())}catch(o){console.error("Error during login:",o),i.value="Email not found. Please sign up."}});function s(){r.value=!r.value}return(o,e)=>{const C=E("Card");return w(),N("div",z,[n(C,{class:"w-full max-w-md mt-20 border-none shadow-none"},{default:v(()=>[u("div",I,[n(t(L),{shape:"square",image:"/assets/go1_vendor/image/logo.svg",label:"EY",size:"2xl"})]),e[5]||(e[5]=u("h1",{class:"text-center text-3xl font-semibold text-gray-900 mb-4"},"Login to Go1 Vendor!",-1)),u("form",{class:"flex flex-col space-y-2 w-full",onSubmit:V(d,["prevent"])},[n(t(_),{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=p=>a.value=p),required:"",name:"email",type:"text",placeholder:"johndoe@email.com",label:"User ID"},null,8,["modelValue"]),u("div",M,[n(t(_),{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=p=>l.value=p),required:"",name:"password",type:r.value?"text":"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022",label:"Password"},null,8,["modelValue","type"]),n(t(R),{name:r.value?"eye":"eye-off",onClick:s,class:"absolute h-4 right-3 top-2/3 transform -translate-y-1/3 cursor-pointer text-gray-600"},null,8,["name"])]),n(t(b),{loading:t(x).login.loading,variant:"solid",style:{"margin-top":"24px"}},{default:v(()=>e[2]||(e[2]=[h("Login")])),_:1},8,["loading"]),i.value?(w(),q(t(B),{key:0,message:i.value},null,8,["message"])):P("",!0)],32),u("div",U,[e[4]||(e[4]=u("span",{class:"text-sm text-gray-600"},"Don't have an account?",-1)),n(t(b),{variant:"ghost",theme:"gray",size:"sm",label:"Signup",loading:!1,disabled:!1,onClick:V(m,["stop"]),class:"ml-2"},{default:v(()=>e[3]||(e[3]=[h(" Signup ")])),_:1})])]),_:1})])}}});export{T as default};
